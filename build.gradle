version = "0.1.0"
group = "com.ragegamingpe.shulkerinvent" // http://maven.apache.org/guides/mini/guide-naming-conventions.html

ext.priv = parseConfig(file("private.properties"))

tasks.githubRelease.dependsOn "build"

githubRelease {
    owner 'dominiccarrington'
    repo 'ShulkerInventory'
    token "${priv.githubToken}"
    releaseAssets {
        FilenameFilter filter = { dir, filename -> filename.contains(project.version) }
        releaseAssets = jar.destinationDir.listFiles filter
    }
}

def parseConfig(File config) {
    config.withReader {
        def prop = new Properties()
        prop.load(it)
        return (new ConfigSlurper().parse(prop))
    }
}